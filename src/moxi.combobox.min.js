!function(a,b){var c,d,e;e="moxiComboBox",d={livequery:!0,containercss:{position:"absolute",width:150,height:200,background:"#f5f5f5",overflow:"auto","-webkit-box-shadow":"0 5px 10px 0 #B8B8B8","box-shadow":"0 5px 10px 0 #B8B8B8"},innercss:{padding:10,"margin-bottom":1,background:"#dcdcdc"},integer:{prepend:"",append:""}},c=function(b,c){this.element=b,this.el=a(b),this.el.addClass("mcb_input"),this.resizeListener=void 0,this.innerhtml="",this.live_query_lock=!1,this.options=a.extend(!0,{},d,c),this._defaults=d,this._name=e,this.init()},c.prototype={init:function(){return this.setResizeListener(),this.setElementPosition(),this.createContainer(),this.options.integer.start&&this.dynamicIntegerValues(),this.setEvents()},setEvents:function(){return this.el.on("focus",function(b){return function(){return a(".mcb_outer_container").hide(),a("#mcb_"+b.el.attr("name")).css("height",0).show().stop().animate({height:b.options.containercss.height})}}(this)),this.initLiveQuery()},initLiveQuery:function(){var a;return this.options.livequery||this.live_query_lock?(a=this.el,a.off("keypress").on("keyup",function(a){return function(){return a.filterResults()}}(this))):!1},filterResults:function(){var b;return b=this.el,a.each(a(".mcb_inner_wrapper").children(),function(){var c;return c=a(this),-1===c.html().replace(/[^0-9\.]+/g,"").indexOf(b.val())?c.hide():c.show()}),setTimeout(function(b){return function(){var c;return c=a(".mcb_inner_wrapper").outerHeight()<a("#mcb_"+b.el.attr("name")).outerHeight()?a(".mcb_inner_wrapper").outerHeight():b.options.containercss.height,a("#mcb_"+b.el.attr("name")).css({height:c})}}(this),200)},createContainer:function(){return this.options.containercss.top=this.el_pos_y+this.el.outerHeight(),this.options.containercss.left=this.el_pos_x,this.options.containercss.display="none",a("<div />",{id:"mcb_"+this.el.attr("name"),"class":"mcb_outer_container",css:this.options.containercss}).appendTo("body"),this.dd_div=a("#mcb_"+this.el.attr("name"))},dynamicIntegerValues:function(){var b,c;for(b=parseInt(this.options.integer.start),this.innerhtml+='<div class="mcb_inner">'+this.parseInteger(this.options.integer.start)+"</div>";b<this.options.integer.end;)c=parseInt(b)+this.returnIncrement(parseInt(b)),this.innerhtml+='<div class="mcb_inner">'+this.parseInteger(c)+"</div>",b=c;return this.dd_div.html(this.innerhtml),a("#mcb_"+this.el.attr("name")).wrapInner('<div class="mcb_inner_wrapper"></div>'),a(".mcb_inner").css(this.options.innercss)},parseInteger:function(a){return void 0===a?!1:(a=this.options.integer?a.format():a,this.options.integer.prepend+a+this.options.integer.append)},returnIncrement:function(a){var b;return b=1,b=10>a?1:a>=10&&100>a?10:a>=100&&1e3>a?100:a>=1e3&&1e4>a?1e3:a>=1e4&&1e5>a?1e4:a>=1e4&&5e5>a?25e3:a>=5e5&&1e6>a?5e4:a>=1e6&&2e6>a?1e5:1e6},setElementPosition:function(){return this.el_pos_y=this.el.offset().top,this.el_pos_x=this.el.offset().left},setResizeListener:function(){return b.onresize=function(a){return function(){clearTimeout(a.resizeListener),a.resizeListener=setTimeout(function(){return a.resizedWindow()},200)}}(this)},resizedWindow:function(){return this.setElementPosition(),a("#mcb_"+this.el.attr("name")).css({top:this.el_pos_y+this.el.outerHeight(),left:this.el_pos_x})}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new c(this,b))})}}(jQuery,window,document),$(document).on("click",function(){return function(a){var b,c;return c=a.target||a.srcElement,b=$(c).attr("class")||"",-1===b.indexOf("mcb_")?$(".mcb_outer_container").hide():void 0}}(this)),$(document).on("keydown",".mcb_input",function(){return function(a){return 9===a.which?$(".mcb_outer_container").hide():void 0}}(this)),Number.prototype.format=function(a,b){var c;return c="\\d(?=(\\d{"+(b||3)+"})+"+(a>0?"\\.":"$")+")",this.toFixed(Math.max(0,~~a)).replace(new RegExp(c,"g"),"$&,")};