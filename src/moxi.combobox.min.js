!function(a){var b,c,d;d="moxiComboBox",c={livequery:!0,containercss:{position:"absolute",width:150,height:200,background:"#f5f5f5",overflow:"auto","-webkit-box-shadow":"0 5px 10px 0 #B8B8B8","box-shadow":"0 5px 10px 0 #B8B8B8"},innercss:{padding:10,"margin-bottom":1,background:"#dcdcdc",cursor:"pointer"},integer:{prepend:"",append:""}},b=function(b,d){this.element=b,this.el=a(b),this.el.addClass("mcb_input"),this.innerhtml="",this.options=a.extend(!0,{},c,d),this.init()},b.prototype={init:function(){return this.createContainer(),this.options.integer.start&&this.dynamicIntegerValues(),this.setGeneralEvents()},setGeneralEvents:function(){var b;return b=this,this.el.on("focus",function(b){return function(){return a(".mcb_outer_container").hide(),a("#mcb_"+b.el.attr("name")).css("height",0).show().stop().animate({height:b.options.containercss.height},function(){})}}(this)),this.initLiveQuery()},initLiveQuery:function(){return this.options.livequery?this.el.off("keypress").on("keyup",function(a){return function(){return a.filterResults()}}(this)):!1},filterResults:function(){var b;return b=this.el,a.each(a(".mcb_inner_wrapper").children(),function(){var c;return c=a(this),-1===c.html().indexOf(b.val())?c.hide():c.show()}),this.setContainerHeight()},calculateContainerHeight:function(){var b;return b={},a(".mcb_inner_wrapper").outerHeight()<=a("#mcb_"+this.el.attr("name")).outerHeight()?(b.h=a(".mcb_inner_wrapper").outerHeight(),b.overflow="none"):(b.h=this.options.containercss.height,b.overflow="auto"),b},setContainerHeight:function(){var b;return b=this.calculateContainerHeight(),a("#mcb_"+this.el.attr("name")).css({height:b.h,overflow:b.overflow})},createContainer:function(){return this.options.containercss.display="none",a("<div />",{id:"mcb_"+this.el.attr("name"),"class":"mcb_outer_container",css:this.options.containercss}).appendTo(this.el.parent()),this.dd_div=a("#mcb_"+this.el.attr("name"))},dynamicIntegerValues:function(){var b,c;for(this.injectLabel(this.options.prelabel),b=parseInt(this.options.integer.start),this.innerhtml+='<div class="mcb_inner">'+this.parseInteger(this.options.integer.start)+"</div>";b<this.options.integer.end;)c=parseInt(b)+this.returnIncrement(parseInt(b)),this.innerhtml+='<div class="mcb_inner" data-inputelement="'+this.el.attr("name")+'">'+this.parseInteger(c)+"</div>",b=c;return this.injectLabel(this.options.postlabel),this.dd_div.html(this.innerhtml),a("#mcb_"+this.el.attr("name")).wrapInner('<div class="mcb_inner_wrapper"></div>'),a(".mcb_inner").css(this.options.innercss),this.setClickEvents()},injectLabel:function(a){return a?this.innerhtml+='<div class="mcb_inner mcb_label">'+a+"</div>":!1},setClickEvents:function(){var b;return b=this,a(".mcb_inner_wrapper").children().on("click",function(){return a("input[name="+a(this).data("inputelement")+"]").val(a(this).html()),b.dd_div.hide()})},parseInteger:function(a){return void 0===a?!1:(a=this.options.integer.start?a.format():a,this.options.integer.prepend+a+this.options.integer.append)},returnIncrement:function(a){var b;return b=1,b=10>a?1:a>=10&&100>a?10:a>=100&&1e3>a?100:a>=1e3&&1e4>a?1e3:a>=1e4&&1e5>a?1e4:a>=1e4&&5e5>a?25e3:a>=5e5&&1e6>a?5e4:a>=1e6&&2e6>a?1e5:1e6}},a.fn[d]=function(c){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new b(this,c))})}}(jQuery,window,document),$(document).on("click",function(){return function(a){var b,c;return c=a.target||a.srcElement,b=$(c).attr("class")||"",-1===b.indexOf("mcb_")?$(".mcb_outer_container").hide():void 0}}(this)),$(document).on("keydown",".mcb_input",function(){return function(a){return 9===a.which?$(".mcb_outer_container").hide():void 0}}(this)),Number.prototype.format=function(a,b){var c;return c="\\d(?=(\\d{"+(b||3)+"})+"+(a>0?"\\.":"$")+")",this.toFixed(Math.max(0,~~a)).replace(new RegExp(c,"g"),"$&,")};